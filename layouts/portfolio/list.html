{{ define "main" }}
<div style="margin-top: 5rem; padding: 2rem;">
    <div style="max-width: 1200px; margin: 0 auto;">
        <div style="text-align: center; margin-bottom: 3rem;">
            <h1 style="color: #00d4ff; font-size: 3rem; margin-bottom: 1rem;">{{ .Title }}</h1>
            <p style="font-size: 1.2rem; opacity: 0.9;">{{ .Content }}</p>
        </div>
        <div class="portfolio-grid">
            {{ range .Site.Params.portfolio }}
            <div class="portfolio-item">
                <!-- 核心修改：将图标和文字区域改造为图片容器 -->
                <div class="portfolio-image" style="position: relative; display: flex; align-items: center; justify-content: center; overflow: hidden; border-radius: inherit;">
                    {{ if .image }}
                        <!-- 如果配置了 image 字段，则显示图片 -->
                        <img 
                            src="{{ .image }}" 
                            alt="{{ .title }} - {{ .type }}"
                            style="width: 100%; height: 100%; object-fit: cover;"
                            loading="lazy"
                        >
                        <!-- 可选：在图片上叠加显示类型文字（半透明背景） -->
                        {{ if .type }}
                        <div style="position: absolute; bottom: 10px; left: 10px; background: rgba(0, 0, 0, 0.7); color: white; padding: 4px 8px; border-radius: 4px; font-size: 0.85rem;">
                            {{ .type }}
                        </div>
                        {{ end }}
                    {{ else }}
                        <!-- 如果未配置 image 字段，则回退显示原有的 Emoji 和文字 -->
                        <div style="text-align: center; padding: 1rem;">
                            <div style="font-size: 2rem; margin-bottom: 0.5rem;">{{ .icon }}</div>
                            <div style="font-size: 0.9rem; opacity: 0.9;">{{ .type }}</div>
                        </div>
                    {{ end }}
                </div>
                <div class="portfolio-content">
                    <h3>{{ .title }}</h3>
                    <p>{{ .description }}</p>
                    <div style="margin-top: 1rem;">
                        {{ range .tags }}
                        <span style="background: rgba(0,212,255,0.2); padding: 4px 8px; border-radius: 15px; font-size: 0.8rem; margin-right: 5px; display: inline-block; margin-bottom: 5px;">{{ . }}</span>
                        {{ end }}
                    </div>
                    {{ if .project_url }}
                    <div style="margin-top: 1rem;">
                        <a href="{{ .project_url }}" class="btn btn-secondary">{{ i18n "view_details" }}</a>
                    </div>
                    {{ end }}
                </div>
            </div>
            {{ end }}
        </div>
    </div>
</div>

{{/* 添加一些额外的样式，确保图片容器有合适的基础高度 */}}
<style>
/* 为图片容器设置一个默认的最小高度，保持卡片布局平衡 */
.portfolio-item .portfolio-image {
    min-height: 180px; /* 你可以根据图片常见比例调整这个值 */
}
</style>
{{ end }}